<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sandbox</title>
    <meta
        http-equiv="Content-Security-Policy"
        content="default-src 'self'; script-src 'unsafe-inline'; child-src 'none'; worker-src 'self';"
    />
</head>
<body>
    <script type="module" defer>var t="mirror-sw.compiled.js",s="/runProgram";async function i(){let o=await caches.keys(),a=[];if("databases"in indexedDB){let n=(await(async()=>{try{return await indexedDB.databases()}catch{return[]}})()).map(r=>r.name||"");a.push(...n.filter(r=>r.length>0))}return await Promise.all([...o.map(e=>caches.delete(e)),...a.map(e=>indexedDB.deleteDatabase(e)),navigator.serviceWorker.ready,Promise.resolve(localStorage.clear())]),!0}var c=async()=>{if(window.top===window.self&&console.warn("sandbox is not loaded in iframe! Place this in a sandboxed iframe for better security!"),!navigator.serviceWorker)throw new Error("current browser doesn't support service workers");console.info("[SANDBOX]: registering service worker..."),(await navigator.serviceWorker.register(t)).active||console.warn("service worker controller not found"),window.setTimeout(()=>{console.info("[SANDBOX]: service worker registered successfully"),window.location.pathname===s?(console.warn("application attempted to run program without registering service worker"),window.location.reload()):top?.postMessage("finished","*")},2e3),await i()};c();
</script>
</body>
</html>